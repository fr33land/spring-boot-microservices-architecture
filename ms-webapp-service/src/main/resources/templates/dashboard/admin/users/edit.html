<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="base">
    <head>
        <title layout:title-pattern="$CONTENT_TITLE - $LAYOUT_TITLE">User edit</title>
    </head>
    <body>
        <div class="content">
            <h3 id="pageTitle">User edit</h3>
            <div layout:fragment="content">
                <div class="edit-form">
                    <form id="user-form" th:object="${userProfile}" th:action="@{/dashboard/admin/users/save}" method="post">
                        <div class="alert alert-danger" th:if="${#fields.hasGlobalErrors()}" th:each="error : ${#fields.errors('global')}" th:text="${error}"></div>

                        <input type="hidden" id="userId" th:field="*{userId}" name="userId"/>
                        
                        <div class="form-group">
                            <label for="firstName">First name</label>
                            <input type="text" id="firstName" th:field="*{firstName}" maxlength="64" name="firstName" class="form-control" autofocus="autofocus"/>
                        </div>

                        <div class="form-group">
                            <label for="lastName">Last name</label>
                            <input type="text" id="lastName" th:field="*{lastName}" maxlength="64" name="lastName" class="form-control"/>
                        </div>

                        <div class="form-group">
                            <label for="birthday">Birthday</label>
                            <div class="input-group" >
                                <input type="text" id="birthday" th:field="*{birthday}" name="birthday" class="datepicker form-control" data-provide="datepicker" data-date-format="yyyy-mm-dd" data-date-autoclose="true" aria-describedby="calendar-icon"/>
                                <div class="input-group-append">
                                    <span class="input-group-text" id="calendar-icon">
                                        <i class="far fa-calendar-alt"></i>
                                    </span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="city">City</label>
                            <input type="text" id="city" th:field="*{city}" maxlength="32" name="city" class="form-control" />
                        </div>

                        <div class="form-group">
                            <label for="address">Address</label>
                            <input type="text" id="address" th:field="*{address}" maxlength="64" name="address" class="form-control"/>
                        </div>

                        <div class="form-group">
                            <label for="phone">Phone</label>
                            <input type="text" id="phone" th:field="*{phone}" maxlength="64" name="phone" class="form-control"/>
                        </div>

                        <div class="form-group">
                            <label for="phone">Phone</label>
                            <select th:field="*{nationality.id}" name="nationality" class="form-control">
                                <option th:each="country : ${countriesList}" th:value="${country.id}" th:text="${country.name}"></option>
                            </select>
                        </div>




                        <!--                        <div class="form-group required">
                                                    <label for="redirectUrl">Oauth redirect url</label>
                                                    <input type="text" id="redirectUrl" th:field="*{redirectUrl}" maxlength="256" name="redirectUrl" class="form-control" placeholder="http://myserver.com/oauthCallback" />
                                                    <span id="redirecturl-error" style="display: block" class="is-invalid" th:each="error: ${#fields.errors('redirectUrl')}" th:text="${error}" ></span>
                                                </div>
                                                
                                                <div class="form-group">
                                                    <label for="redirectUrl">Scope</label>
                                                    <input type="text" id="scope" th:field="*{scope}" maxlength="256" name="scope" class="form-control" />
                                                    <span id="redirecturl-error" style="display: block" class="is-invalid" th:each="error: ${#fields.errors('scope')}" th:text="${error}" ></span>
                                                </div>-->

                        <div class="form-group">
                            <div class="row">
                                <div class="col-sm-6 pb-4 pt-2">
                                    <input type="submit" name="save" id="register-submit" class="form-control btn popup_btn" value="Save" />
                                </div>
                                <div class="col-sm-6 pb-4 pt-2">
                                    <input formnovalidate="formnovalidate" type="submit" name="cancel" id="cancel-submit" class="form-control btn popup_btn" value="Cancel" />
                                </div>
                            </div>
                        </div>
                    </form>
                </div>       
            </div>
        </div>  
        <th:block layout:fragment="script">
            <script type="text/javascript" th:src="@{/js/users.js}"></script>
        </th:block>
    </body>
</html>
